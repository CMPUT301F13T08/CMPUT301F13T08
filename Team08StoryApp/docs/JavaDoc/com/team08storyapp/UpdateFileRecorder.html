<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_05) on Mon Dec 02 14:27:59 MST 2013 -->
<title>UpdateFileRecorder</title>
<meta name="date" content="2013-12-02">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UpdateFileRecorder";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../com/team08storyapp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UpdateFileRecorder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../com/team08storyapp/SyncManager.html" title="class in com.team08storyapp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../com/team08storyapp/UpdateTask.html" title="class in com.team08storyapp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?com/team08storyapp/UpdateFileRecorder.html" target="_top">Frames</a></li>
<li><a href="UpdateFileRecorder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.team08storyapp</div>
<h2 title="Class UpdateFileRecorder" class="title">Class UpdateFileRecorder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.team08storyapp.UpdateFileRecorder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">UpdateFileRecorder</span>
extends java.lang.Object</pre>
<div class="block">UpdateFileRecorder is a class that records, retrieves, clears the ids of
 files that need to be uploaded. It's always called and provides the ids of
 files whenever sync is in process and sync needs to know what files it needs
 to upload.
 
 <p>
 In order to manage the record of files that need to be updated,
 UpdateFileRecorder provides the following methods:
 <ul>
 <li>Add an id of a file to updateQueue file where all ids of files that needs
 to be uploaded are stored.
 <li>Retrieve a list of ids of files that needs to be uploaded
 <li>Clear the updateQueue file when a sync is done.
 </ul></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.0</dd>
<dt><span class="strong">Version:</span></dt>
  <dd>1.0 November 8, 2013</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Michele Paulichuk, Alice Wu, Ana Marcu, Jarrett Toll, Jiawei Shen</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../com/team08storyapp/UpdateFileRecorder.html#UpdateFileRecorder()">UpdateFileRecorder</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../com/team08storyapp/UpdateFileRecorder.html#appendUpdateQueue(int, Context)">appendUpdateQueue</a></strong>(int&nbsp;storyId,
                 Context&nbsp;fileContext)</code>
<div class="block">appendUpdateQueue function is called whenever a local authored story has
 been changed since last sync.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../com/team08storyapp/UpdateFileRecorder.html#clearUpdateQueue(Context)">clearUpdateQueue</a></strong>(Context&nbsp;fileContext)</code>
<div class="block">* clearUpdateQueue deletes the file "updateQueue", which keeps record of
 stories that need to be uploaded, when a sync/upload is done
 successfully.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../com/team08storyapp/UpdateFileRecorder.html#getUpdateFilesIds(Context)">getUpdateFilesIds</a></strong>(Context&nbsp;fileContext)</code>
<div class="block">This function is usually called under condition of the network is
 connected and check if a sync is need to be performed.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UpdateFileRecorder()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UpdateFileRecorder</h4>
<pre>public&nbsp;UpdateFileRecorder()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="appendUpdateQueue(int, Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendUpdateQueue</h4>
<pre>public static&nbsp;void&nbsp;appendUpdateQueue(int&nbsp;storyId,
                     Context&nbsp;fileContext)</pre>
<div class="block">appendUpdateQueue function is called whenever a local authored story has
 been changed since last sync. This function will append the story's
 offline id into a file named "updateQueue" if it's not in the
 updateQueue. And the "updateQueue" file is used for keeping records of
 locally authored stories that have been edited since the last sync.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>storyId</code> - the offline id of the story that needs to be synced to
            webserver</dd><dd><code>fileContext</code> - the context object of the an activity. It's used for reading/
            writing files</dd></dl>
</li>
</ul>
<a name="getUpdateFilesIds(Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUpdateFilesIds</h4>
<pre>public static&nbsp;java.util.ArrayList&lt;java.lang.String&gt;&nbsp;getUpdateFilesIds(Context&nbsp;fileContext)</pre>
<div class="block">This function is usually called under condition of the network is
 connected and check if a sync is need to be performed. getUpdateFilesIds
 returns a list of ids that are read from the file "updateQueue". Those
 ids are the offline ids of stories that need to be synced.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileContext</code> - the context object of the an activity. It's used for reading/
            writing files</dd>
<dt><span class="strong">Returns:</span></dt><dd>updateId It's an ArrayList of Strings, which represent the
         offline ids of the stories that need to be synced to webserver.</dd></dl>
</li>
</ul>
<a name="clearUpdateQueue(Context)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>clearUpdateQueue</h4>
<pre>public static&nbsp;void&nbsp;clearUpdateQueue(Context&nbsp;fileContext)</pre>
<div class="block">* clearUpdateQueue deletes the file "updateQueue", which keeps record of
 stories that need to be uploaded, when a sync/upload is done
 successfully.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileContext</code> - the context object of the an activity. It's used for reading/
            writing files</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../com/team08storyapp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UpdateFileRecorder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../com/team08storyapp/SyncManager.html" title="class in com.team08storyapp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../com/team08storyapp/UpdateTask.html" title="class in com.team08storyapp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?com/team08storyapp/UpdateFileRecorder.html" target="_top">Frames</a></li>
<li><a href="UpdateFileRecorder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
