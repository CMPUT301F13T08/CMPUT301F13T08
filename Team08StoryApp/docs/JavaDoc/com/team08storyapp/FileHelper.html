<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_05) on Mon Dec 02 14:27:56 MST 2013 -->
<title>FileHelper</title>
<meta name="date" content="2013-12-02">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FileHelper";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../com/team08storyapp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileHelper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../com/team08storyapp/ESHelper.html" title="class in com.team08storyapp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../com/team08storyapp/Hits.html" title="class in com.team08storyapp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?com/team08storyapp/FileHelper.html" target="_top">Frames</a></li>
<li><a href="FileHelper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.team08storyapp</div>
<h2 title="Class FileHelper" class="title">Class FileHelper</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.team08storyapp.FileHelper</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">FileHelper</span>
extends java.lang.Object</pre>
<div class="block">FileHelper is a helper class that mainly manages retrieving, saving stories
 or images files in local, sometimes assists ESHelper by encoding or decoding
 a story when uploading or downloading a story
 
 <p>
 In order to manage files, FileHelper provides the following methods:
 <ul>
 <li>Add an offline story with a given story.
 <li>Get an offline story with a given story Id.
 <li>Retrieve a list of all available offline stories.
 <li>Update an offline story with a given story Id.
 <li>search for offline stories with given search string. (Note: it doesn't
 perform search on "\n" and whitespace )
 </ul></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.0</dd>
<dt><span class="strong">Version:</span></dt>
  <dd>1.0 November 8, 2013</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Michele Paulichuk, Alice Wu, Ana Marcu, Jarrett Toll, Jiawei Shen</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../com/team08storyapp/FileHelper.html#FileHelper(Context, int)">FileHelper</a></strong>(Context&nbsp;context,
          int&nbsp;mode)</code>
<div class="block">The Constructor initializes the fileContext with passed context.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../com/team08storyapp/FileHelper.html#addOfflineStory(com.team08storyapp.Story)">addOfflineStory</a></strong>(<a href="../../com/team08storyapp/Story.html" title="class in com.team08storyapp">Story</a>&nbsp;story)</code>
<div class="block">Create a file named after the story's Id (since it's unique), and write
 the story content into the file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../com/team08storyapp/Story.html" title="class in com.team08storyapp">Story</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../com/team08storyapp/FileHelper.html#getOfflineStories()">getOfflineStories</a></strong>()</code>
<div class="block">First the function creates a file which contains the directory of all
 files.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../com/team08storyapp/Story.html" title="class in com.team08storyapp">Story</a></code></td>
<td class="colLast"><code><strong><a href="../../com/team08storyapp/FileHelper.html#getOfflineStory(int)">getOfflineStory</a></strong>(int&nbsp;storyId)</code>
<div class="block">Retrieve the file by the passed story id, and get the file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../com/team08storyapp/Story.html" title="class in com.team08storyapp">Story</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../com/team08storyapp/FileHelper.html#searchOfflineStories(java.lang.String)">searchOfflineStories</a></strong>(java.lang.String&nbsp;searchText)</code>
<div class="block">First the function gets all the stories in the current directory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../com/team08storyapp/FileHelper.html#updateOfflineStory(com.team08storyapp.Story)">updateOfflineStory</a></strong>(<a href="../../com/team08storyapp/Story.html" title="class in com.team08storyapp">Story</a>&nbsp;story)</code>
<div class="block">Update process is done by deleting the original file and write a new
 file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FileHelper(Context, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FileHelper</h4>
<pre>public&nbsp;FileHelper(Context&nbsp;context,
          int&nbsp;mode)</pre>
<div class="block">The Constructor initializes the fileContext with passed context. Since we
 design to store author's own stories and downloaded stories in different
 directories in internal storage, we need to differentiate them.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - an Context object</dd><dd><code>mode</code> - integer,to access dowaloaded stories: mode == 0; to access
            authored stories mode == 1</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addOfflineStory(com.team08storyapp.Story)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addOfflineStory</h4>
<pre>public&nbsp;boolean&nbsp;addOfflineStory(<a href="../../com/team08storyapp/Story.html" title="class in com.team08storyapp">Story</a>&nbsp;story)
                        throws java.io.FileNotFoundException,
                               java.io.IOException</pre>
<div class="block">Create a file named after the story's Id (since it's unique), and write
 the story content into the file. If a story is successfully written into
 the file, true will be returned. Otherwise, function will return false.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>story</code> - the story that needs to be added to local file system</dd>
<dt><span class="strong">Returns:</span></dt><dd>true: story is successfully added | false: writing file error
         during adding process</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="updateOfflineStory(com.team08storyapp.Story)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateOfflineStory</h4>
<pre>public&nbsp;boolean&nbsp;updateOfflineStory(<a href="../../com/team08storyapp/Story.html" title="class in com.team08storyapp">Story</a>&nbsp;story)
                           throws java.io.FileNotFoundException,
                                  java.io.IOException</pre>
<div class="block">Update process is done by deleting the original file and write a new
 file. So this function deletes the original file named by the story id
 and creates a new file and writes the updated content into the new file,
 then saves it. When update is successful, true will be returned,
 otherwise false will be returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>story</code> - the story object that needs to be updated</dd>
<dt><span class="strong">Returns:</span></dt><dd>true: story is successfully updated | false: writing file error
         during update process</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getOfflineStory(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOfflineStory</h4>
<pre>public&nbsp;<a href="../../com/team08storyapp/Story.html" title="class in com.team08storyapp">Story</a>&nbsp;getOfflineStory(int&nbsp;storyId)
                      throws java.io.FileNotFoundException,
                             java.io.IOException</pre>
<div class="block">Retrieve the file by the passed story id, and get the file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>storyId</code> - the offline id of the desired story</dd>
<dt><span class="strong">Returns:</span></dt><dd>on success desired story object will be returned otherwise null
         will be returned</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getOfflineStories()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOfflineStories</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../com/team08storyapp/Story.html" title="class in com.team08storyapp">Story</a>&gt;&nbsp;getOfflineStories()
                                             throws java.io.FileNotFoundException,
                                                    java.io.IOException</pre>
<div class="block">First the function creates a file which contains the directory of all
 files. Then file.listFiles() function returns a list of files represented
 by the directory in the file. And the function will get a list of stories
 in Json and put them into ArrayList<Story> sList.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>On success, the sList will be returned with a list of stories.
         Otherwise sList will be null.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="searchOfflineStories(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>searchOfflineStories</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../com/team08storyapp/Story.html" title="class in com.team08storyapp">Story</a>&gt;&nbsp;searchOfflineStories(java.lang.String&nbsp;searchText)</pre>
<div class="block">First the function gets all the stories in the current directory. And
 then compares each stories author and title with searchText to determine
 if this story should be added into the result storyList.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>searchText</code> - the string that user enters as search string, usually it's an
            author name or title</dd>
<dt><span class="strong">Returns:</span></dt><dd>return an ArrayList<Story> storyList that contains the search
         text in author and/or title field;</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../com/team08storyapp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileHelper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../com/team08storyapp/ESHelper.html" title="class in com.team08storyapp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../com/team08storyapp/Hits.html" title="class in com.team08storyapp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?com/team08storyapp/FileHelper.html" target="_top">Frames</a></li>
<li><a href="FileHelper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
